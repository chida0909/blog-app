---
title: VuexのmapStateなど
permalink: vuex-mapstate
description: 
created_at: 2020-04-26
tags: Vuex
---

「this.$store.state.hoge」と書くことで、Vuexのstoreにあるstateを参照できます。ただ、この書き方は冗長のため、mapStateヘルパーという短縮できる仕組みが用意されています。このヘルパーは、mapMutations, mapGetters, mapActionsも同じ目的で使用できます。

this.$store.stateやmapStateの違いをコードを見て比較できるよう、Click!!!ボタンを押すことで、カウントをインクリメントするコードを書きました。

---

![counter](../images/counter.png)

---
  
&#13;&#10;
  

# this.$store.state
this.$store.stateで表現する場合は、以下の通りです。

```vue
<template>
  <div>
    <button @click="increment">Click!!!</button>
    <h2>COUNT:{{ count }}</h2>
  </div>
</template>

<script>
export default {
  name: "app",
  methods: {
    increment() {
      this.$store.commit("increment");
    }
  },
  computed: {
    count() {
      return this.$store.state.count;
    }
  }
};
</script>
```

# mapState
this.$store.state.countではなく、mapStateを使う場合は以下の通りです。Scriptタグの先頭でimport...を追記します。そしてcomputed自体のコードが短縮されるのが分かります。  

```vue
<template>
  <div>
    <button @click="increment">Click!!!</button>
    <h2>COUNT:{{ count }}</h2>
  </div>
</template>

<script>
import { mapState } from "vuex";

export default {
  name: "app",
  methods: {
    increment() {
      this.$store.commit("increment");
    }
  },
  computed: mapState(["count"])
};
</script>
```

# ...mapState
独自のcomputedプロパティが存在する場合は、先ほどの書き方では表現ができないため、スプレッド構文を使います。今回の例では「COUNT:」と直に書いていた部分を、titleプロパティとして定義しています。

```vue
<template>
  <div>
    <button @click="increment">Click!!!</button>
    <h2>{{ title }}{{ count }}</h2>
  </div>
</template>

<script>
import { mapState } from "vuex";

export default {
  name: "app",
  data() {
    return {
      msg: "count:"
    };
  },
  methods: {
    increment() {
      this.$store.commit("increment");
    }
  },
  computed: {
    title() {
      return this.msg.toUpperCase();
    },
    ...mapState(["count"])
  }
};
</script>
```
